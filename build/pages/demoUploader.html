
<a href="javascript:void(0)" class="easyui-linkbutton color-default btn-jump" 
		iconCls="fa fa-plus" onclick="qc.typeList.openAddDialog()">增加</a>

<div id="qc-typeList-addDialog" style="display: none;">
	<form id="qc-typeList-addForm">
	    <div id="qc-typeList-fileList" class="uploader-list" ></div>
	    <div id="qc-typeList-filePicker">选择图片</div>
	</form>
</div>
<script type="text/javascript">
//注册一个命名空间
Namespace.register("qc.typeList");
qc.main.pushWindowId("qc-typeList-addDialog");	

//打开添加对话框
qc.typeList.openAddDialog = function() {
	if (!qc.typeList.addDialog) {
		//初始化添加对话框
		qc.typeList.addDialog = $('#qc-typeList-addDialog').show().dialog({
			title : '添加型号',
			width : 400,
			height : 330,
			modal : true,
			closed : true
		});
		//图片上传
		qc.typeList.uploader = WebUploader.create({
			auto : false,
			swf : 'assets/javascripts/components/webUploader/Uploader.swf',
			pick : '#qc-typeList-filePicker',
			fileVal:"upload",
			//formData:qc.typeList.formData,
			accept : {
				title : "Images",
				extensions : 'gif,jpg,jpeg,bmp,png',
				mineTypes : 'image/*'
			}

		});
		//添加图片时
		qc.typeList.uploader.on("fileQueued", function(file) {
			$('#qc-typeList-fileList').append( '' +
	            '' + file.name + '' +
	            '等待上传...' +
	        '' );
		});

	} else {
		qc.typeList.uploader.reset();
		qc.typeList.addDialog.dialog('setTitle', '添加型号');
	}
	qc.typeList.addDialog.dialog('open');
}
</script>