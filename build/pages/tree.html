<div class='container'>
  <div class='col-6'>
    <div class='easyui-panel' data-options="height:400, tools:'#tt', cls:'panel-primary panel-datagrid', iconCls:'fa fa-list'" title='Editable Tree Grid'>
      <table class='easyui-treegrid' data-options="fit:true, rownumbers: true, collapsible: true, url: 'assets/javascripts/json/datagridData/treegrid_data2.json', method: 'get', idField: 'id', treeField: 'name', showFooter: true" id='tg'>
        <thead>
          <tr>
            <th data-options="field:'name',width:180,editor:'text'">
              Task Name
            </th>
            <th data-options="field:'persons',width:88,align:'right',editor:'numberbox'">
              Persons
            </th>
            <th data-options="field:'begin',width:120,editor:'datebox'">
              Begin Date
            </th>
            <th data-options="field:'end',width:120,editor:'datebox'">
              End Date
            </th>
          </tr>
        </thead>
      </table>
    </div>
    <div id='tt'>
      <a class="easyui-linkbutton l-btn-primary easyui-tooltip" onclick="edit()" title="Edit" href="#"><i class='fa fa-pencil'></i>
      </a>
      <a class="easyui-linkbutton l-btn-primary easyui-tooltip" onclick="removeRow()" title="Remove" href="#"><i class='fa fa-trash-o'></i>
      </a>
      <a class="easyui-linkbutton l-btn-primary easyui-tooltip" onclick="save()" title="Save" href="#"><i class='fa fa-floppy-o'></i>
      </a>
      <a class="easyui-linkbutton l-btn-primary easyui-tooltip" onclick="cancel()" title="Cancel" href="#"><i class='fa fa-times'></i>
      </a>
    </div>
  </div>
  <hr class='col-12'>
  <div class='col-6'>
    <div class='easyui-panel' data-options="height:400, cls:'panel-primary', iconCls:'fa fa-list'" title='Tree'>
      <ul class='easyui-tree' data-options="fit:true, url:'assets/javascripts/json/demoData/tree_data1.json',method:'get',animate:true,checkbox:true, lines:true" id='tt'></ul>
      <div class='panel-footer'>
        <small>Tree folder with by lines</small>
      </div>
    </div>
  </div>
  <hr class='col-12'>
  <div class='col-12'>
    <div class='panel panel-primary'>
      <div class='panel-header'>
        <div class='panel-icon fa fa-code'></div>
        <h3 class='panel-title panel-with-icon'>
          Tree | Source Code
        </h3>
      </div>
      <div class='panel-body'>
        <pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'easyui-panel'</span> <span class="na">data-options=</span><span class="s">"height:400, cls:'panel-primary', iconCls:'fa fa-list'"</span> <span class="na">title=</span><span class="s">'Tree'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">'easyui-tree'</span> <span class="na">data-options=</span><span class="s">"fit:true, url:'assets/javascripts/json/demoData/tree_data1.json',method:'get',animate:true,checkbox:true, lines:true"</span> <span class="na">id=</span><span class="s">'tt'</span><span class="nt">&gt;&lt;/ul&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'panel-footer'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;small&gt;</span>Tree folder with by lines<span class="nt">&lt;/small&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
      </div>
    </div>
  </div>
  <hr class='col-12'>
  <div class='col-6'>
    <div class='easyui-panel' data-options="height:304, cls:'panel-primary panel-datagrid', iconCls:'fa fa-list'" title='Tree Grid'>
      <table class='easyui-treegrid' data-options="method: 'get', rownumbers: true, idField: 'id', treeField: 'name', url:'assets/javascripts/json/datagridData/treegrid_data1.json'">
        <thead>
          <tr>
            <th data-options="field:'name', width:150">
              Name
            </th>
            <th data-options="field:'size', width:150">
              Size
            </th>
            <th data-options="field:'date', width:208">
              Modified Date
            </th>
          </tr>
        </thead>
      </table>
      <div class='panel-footer'>
        <small>Tree folder with by lines</small>
      </div>
    </div>
  </div>
  <hr class='col-12'>
  <div class='col-12'>
    <div class='panel panel-primary'>
      <div class='panel-header'>
        <div class='panel-icon fa fa-code'></div>
        <h3 class='panel-title panel-with-icon'>
          Tree Grid | Source Code
        </h3>
      </div>
      <div class='panel-body'>
        <pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'easyui-panel'</span> <span class="na">data-options=</span><span class="s">"height:304, cls:'panel-primary panel-datagrid', iconCls:'fa fa-list'"</span> <span class="na">title=</span><span class="s">'Tree Grid'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">'easyui-treegrid'</span> <span class="na">data-options=</span><span class="s">"method: 'get', rownumbers: true, idField: 'id', treeField: 'name', url:'assets/javascripts/json/datagridData/treegrid_data1.json'"</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;thead&gt;</span>&#x000A;      <span class="nt">&lt;tr&gt;</span>&#x000A;        <span class="nt">&lt;th</span> <span class="na">data-options=</span><span class="s">"field:'name', width:150"</span><span class="nt">&gt;</span>&#x000A;          Name&#x000A;        <span class="nt">&lt;/th&gt;</span>&#x000A;        <span class="nt">&lt;th</span> <span class="na">data-options=</span><span class="s">"field:'size', width:150"</span><span class="nt">&gt;</span>&#x000A;          Size&#x000A;        <span class="nt">&lt;/th&gt;</span>&#x000A;        <span class="nt">&lt;th</span> <span class="na">data-options=</span><span class="s">"field:'date', width:208"</span><span class="nt">&gt;</span>&#x000A;          Modified Date&#x000A;        <span class="nt">&lt;/th&gt;</span>&#x000A;      <span class="nt">&lt;/tr&gt;</span>&#x000A;    <span class="nt">&lt;/thead&gt;</span>&#x000A;  <span class="nt">&lt;/table&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'panel-footer'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;small&gt;</span>Tree folder with by lines<span class="nt">&lt;/small&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
      </div>
    </div>
  </div>
</div>
<script>
  var editingId;
  function edit(){
    if (editingId != undefined){
      $('#tg').treegrid('select', editingId);
      return;
    }
    var row = $('#tg').treegrid('getSelected');
    if (row){
      editingId = row.id;
      $('#tg').treegrid('beginEdit', editingId);
    }
  }
  
  function removeRow(){
    if (editingId != undefined){
      $('#tg').treegrid('select', editingId);
      return;
    }
    var row = $('#tg').treegrid('getSelected');
    if (row){
      editingId = row.id;
      $('#tg').treegrid('remove', editingId);
    }
  }
  
  function save(){
    if (editingId != undefined){
      var t = $('#tg');
      t.treegrid('endEdit', editingId);
      editingId = undefined;
      var persons = 0;
      var rows = t.treegrid('getChildren');
      for(var i=0; i<rows.length; i++){
        var p = parseInt(rows[i].persons);
        if (!isNaN(p)){
          persons += p;
        }
      }
      var frow = t.treegrid('getFooterRows')[0];
      frow.persons = persons;
      t.treegrid('reloadFooter');
    }
  }
  
  function cancel(){
    if (editingId != undefined){
      $('#tg').treegrid('cancelEdit', editingId);
      editingId = undefined;
    }
  }
</script>
