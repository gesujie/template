<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>datagrid，dialog顶层弹出</title>

<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet"/>
<link href="/assets/stylesheets/application.css" rel="stylesheet"/>


<script src="/assets/javascripts/vendor/jquery-2.1.3.min.js"></script>
<script src="/assets/javascripts/vendor/jquery.easyui.min.js"></script>
<script src="/assets/javascripts/components/location/easyui-lang-zh_CN.js"></script>

<script src="/assets/javascripts/components/extJquery/qc.ext.jquery.js"></script>
<script src="/assets/javascripts/components/extEasyui/qc.ext.easyui.js"></script>
<script src="/assets/javascripts/components/admin/qc.admin.js"></script>
</head>


<body>
<div class="easyui-layout" fit="true">
  <div data-options="region:'center',border:false">
    <table id="dgNowrap"></table>
  </div>



  <div class='toolbar' id='tb'>
    <form action='' class='form-horizontal'>
      <div class='form-control'>
        <label>时间段：</label>
        <input class='easyui-datebox' data-options='height:32'>
      </div>
      <div class='form-control'>
        <label>至：</label>
        <input class='easyui-datebox' data-options='height:32'>
      </div>
      <div class='form-control'>
        <label>语言：</label>
        <select class='easyui-combobox' data-options="height:'32',width:100" panelheight='auto'>
          <option value='java'>Java</option>
          <option value='c'>C</option>
          <option value='basic'>Basic</option>
          <option value='perl'>Perl</option>
          <option value='python'>Python</option>
        </select>
      </div>
      <div class='form-control btn-jump'>
        <a iconcls="fa fa-search" class="easyui-linkbutton btn-jump" data-options="height:'32'" href="javascript:void(0)">搜索</a>
      </div>
    </form>
    <a iconcls="fa fa-plus-square" class="easyui-linkbutton btn-dialog btn-jump" onclick="$('#dlg-add').dialog('open')" data-options="height:'32'" href="javascript:void(0)">添加</a>
  </div>
</div>


<div class='easyui-dialog passive' data-options="iconCls:'fa fa-plus-square', modal:true, closed: true, width:500, height:300" id='dlg-add' title='注册'>
  <form action='' class='form-vertical'>
    <div class='form-control'>
      <label>用户名：</label>
      <input class='easyui-textbox' data-options='width:250, height:32' name='firstname'>
    </div>
    <div class='form-control'>
      <label>密码：</label>
      <input class='easyui-textbox' data-options='width:250, height:32' name='lastname'>
    </div>
    <div class='form-control'>
      <label>电话:</label>
      <input class='easyui-textbox' data-options='width:250, height:32' name='phone'>
    </div>
    <div class='form-control'>
      <label>邮件:</label>
      <input class='easyui-textbox' data-options='width:250, height:32' name='email' validType='email'>
    </div>
  </form>
  <div class='dialog-button'>
    <a class='easyui-linkbutton btn-jump' data-options='height:32' href='javascript:void(0)' iconCls='fa fa-check-circle-o' onclick='saveUser()'>Save</a>
    <a class='easyui-linkbutton btn-jump btn-dialog-close' data-options='height:32' href='javascript:void(0)' iconCls='fa fa-times-circle' onclick="$('#dlg-add').dialog('close')">Cancel</a>
  </div>
</div>

<style>
.dg-row-bg:not(:hover) {background-color: blue;}
.dg-row-bg+.datagrid-row-selected {background-color: ;}
</style>
<script>
qc.demo = {}; // 定义页面命名空间

$(function(){
  $("#dgNowrap").datagrid({
    url : "/assets/javascripts/json/datagridData/demoDatagridData.json",
    border : false, // 表格边框
    nowrap : false, // 单元格不换行
    striped : true, // 单双行颜色
    fit : true, // 自适应容器宽度
    fitColumns : true, // 自适应列宽
    pagination : true, // 分页控件
    rownumbers:true,  // 行号
    toolbar : "#tb", // 工具栏ID，必须加#号
    columns : [[
      { title:'itemid',field:'itemid',width:80},
      { title:'productid',field:'productid',width:100},
      { title:'listprice',field:'listprice',width:80,align:'right'},
      { title:'unitcost',field:'unitcost',width:80,align:'right'},
      { title:'attr1',field:'attr1',width:250},
      { title:'status',field:'status',width:60,align:'center'}
    ]],
    rowStyler: function(index,row){
      if(index == 5) {
        row.haveStyle = true;
        return {class:'dg-row-bg'};
      }
    },
    onClickRow: function(index, row){
      var rowDom = $($("#dgNowrap").prev().find(".datagrid-body table tr")[index]);
      if(row.haveStyle == true) {
        if(rowDom.hasClass("dg-row-bg")) {
          rowDom.removeClass("dg-row-bg");
        } else {
          rowDom.addClass("dg-row-bg");
        }
      }
    }
  });
});

qc.demo.showParentDialog = function() {
  parent.$.modalDialog({
    width : 600, height : 200
  });
}
</script>
</body>
</html>
